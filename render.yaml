services:
  - type: web
    name: dll-iems
    env: ruby
    repo: https://github.com/Aizen-25/DLL-IEMS
    branch: main
    buildCommand: bundle install
    # Run migrations on each deploy, then start the app. This keeps the DB schema up-to-date.
    startCommand: bundle exec rake db:migrate && bundle exec rackup config.ru -p $PORT
    # Health check path for Render
    healthCheckPath: /health
    envVars:
      - key: RACK_ENV
        value: production